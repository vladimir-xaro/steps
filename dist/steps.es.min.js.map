{"version":3,"file":"steps.es.min.js","sources":["../node_modules/@xaro/event-emitter/dist/event-emitter.es.js","../src/settings.ts","../src/Control.ts","../src/Progress.ts","../src/Step.ts","../src/Steps.ts"],"sourcesContent":["class EventEmitter {\n    /**\n     * Create Emitter\n     */\n    constructor(on = {}) {\n        /**\n         * Event list\n         */\n        this.events = {};\n        for (let key in on) {\n            if (on[key]) {\n                this.subscribe(key, on[key]);\n            }\n        }\n    }\n    /**\n     * Creates a key for the event and subscribes the passed callback to it.\n     */\n    subscribe(key, cb) {\n        if (!this.has(key)) {\n            this.events[key] = [];\n        }\n        let removes = [];\n        if (Array.isArray(cb)) {\n            for (const _cb of cb) {\n                removes.push(...this.subscribe(key, _cb));\n            }\n        }\n        else {\n            this.events[key].push(cb);\n            removes.push(() => this.removeListener(key, cb));\n        }\n        return removes;\n    }\n    /**\n     * Unsubscribes all callback functions from the event and removes the event\n     * key.\n     */\n    unsubscribe(...keys) {\n        for (const key of keys) {\n            if (this.events[key]) {\n                delete this.events[key];\n            }\n        }\n    }\n    /**\n     * Removes a specific event key callback function.\n     */\n    removeListener(key, cb) {\n        // if (typeof this.events[key] === 'object') {\n        if (Array.isArray(this.events[key])) {\n            const idx = this.events[key].indexOf(cb);\n            if (idx > -1) {\n                this.events[key].splice(idx, 1);\n            }\n        }\n    }\n    /**\n     * Calls the callback function only once, and then removes it.\n     */\n    once(key, cb) {\n        const remove = this.subscribe(key, () => {\n            remove[0]();\n            Array.isArray(cb) ? cb.forEach(_cb => _cb()) : cb();\n        });\n    }\n    /**\n     * Checks for an event by key.\n     * (Doesn't check for callback functions)\n     */\n    has(key) {\n        return !!this.events[key];\n    }\n    /**\n     * Returns the number of callback functions for the event key or \"false\" if\n     * there is no key\n     */\n    listenerCount(key) {\n        if (!this.events.hasOwnProperty(key)) {\n            return false;\n        }\n        return this.events[key].length;\n    }\n    /**\n     * Calls all callback functions on events using the event key.\n     */\n    emit(key, ...args) {\n        const event = this.events[key];\n        if (event) {\n            for (let cb of event) {\n                cb(...args);\n            }\n        }\n    }\n    /**\n     * Just like \"emit\" calls all callback functions. However, the callback must\n     * return a boolean value, which determines whether or not the next callback\n     * will execute.\n     * As a result, it returns the result of the last executed callback function.\n     */\n    validateEmit(key, ...args) {\n        const event = this.events[key];\n        if (!event) {\n            return false;\n        }\n        for (const cb of event) {\n            if (!cb(...args)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    /**\n     * Just like \"emit\" calls all callbacks, but unlike \"emit\" it passes the\n     * result of the previous callback to the next one as an argument.\n     * As aresult, it will return the result of the last callback.\n     */\n    seriesEmit(key, ...args) {\n        const event = this.events[key];\n        if (!event) {\n            return;\n        }\n        let params;\n        for (let i = 0; i < event.length; i++) {\n            if (i === 0) {\n                params = event[i](...args);\n            }\n            else {\n                params = event[i](params);\n            }\n        }\n        return params;\n    }\n}\n\nexport default EventEmitter;\n//# sourceMappingURL=event-emitter.es.js.map\n",null,null,null,null,null],"names":["EventEmitter","[object Object]","on","this","events","key","subscribe","cb","has","removes","Array","isArray","_cb","push","removeListener","keys","idx","indexOf","splice","remove","forEach","hasOwnProperty","length","args","event","params","i","CONTROLS","prev","visibleIf","steps","current","click","control","lock","unlock","next","last","Control","config","emitter","isLock","isVisible","validators","el","addEventListener","bind","emit","HTMLElement","classList","add","Progress","lineEl","querySelector","width","console","log","style","Step","isFinal","visible","value","Error","items","Object","stepSetting","step","controls","fixVisibility","progress","update","hide","show"],"mappings":"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"}